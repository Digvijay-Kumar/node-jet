!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.jet=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){c.Peer=a("./jet/peer")},{"./jet/peer":7}],2:[function(a,b,c){var d=a("./utils"),e=function(a,b,c,e){this.fetchers={},this.eachFetcher=d.eachKeyValue(this.fetchers),this.path=c,this.value=e,this.peer=b;var f=this.fetchers,g=c.toLowerCase();a(function(a,b){try{var d=b(c,g,"add",e);d&&(f[a]=b)}catch(h){console.error("fetcher failed",h)}})};e.prototype._publish=function(a){var b=this.path.toLowerCase(),c=this.value,d=this.path;this.eachFetcher(function(e,f){try{f(d,b,a,c)}catch(g){console.error("fetcher failed",g)}})},e.prototype.change=function(a){this.value=a,this._publish("change",a)},e.prototype.remove=function(){this._publish("remove")},e.prototype.addFetcher=function(a,b){this.fetchers[a]=b},e.prototype.removeFetcher=function(a){delete this.fetchers[a]};var f=function(){this.instances={},this.each=d.eachKeyValue(this.instances)};f.prototype.add=function(a,b,c,f){if(this.instances[c])throw d.invalidParams({pathAlreadyExists:c});this.instances[c]=new e(a,b,c,f)},f.prototype.get=function(a){var b=this.instances[a];if(b)return b;throw d.invalidParams({pathNotExists:a})},f.prototype.change=function(a,b,c){var e=this.get(a);if(e.peer!==c)throw d.invalidParams({foreignPath:a});e.change(b)},f.prototype.removePeer=function(a){var b=[];this.each(function(c,d){d.peer===a&&(d.remove(c),b.push(c))});var c=this.instances;b.forEach(function(a){delete c[a]})},f.prototype.remove=function(a,b){var c=this.get(a);if(c.peer!==b)throw d.invalidParams({foreignPath:a});c.remove(),delete this.instances[a]},f.prototype.addFetcher=function(a,b){this.each(function(c,d){var e;try{e=b(c,c.toLowerCase(),"add",d.value),e&&d.addFetcher(a,b)}catch(f){console.error("fetcher failed",f)}})},f.prototype.removeFetcher=function(a){this.each(function(b,c){c.removeFetcher(a)})},c.Elements=f},{"./utils":11}],3:[function(a,b,c){var d=a("./utils"),e=a("./sorter"),f=a("./fetcher"),g=d.checked,h=d.isDefined;c.fetchCore=function(a,b,c,d,i){var j,k,l=g(c,"id"),m=!0;h(c.sort)?(k=e.create(c,d),j=f.create(c,function(a){k.sorter(a,m)})):(j=f.create(c,d),i&&i()),a.addFetcher(l,j),b.addFetcher(a.id+l,j),m=!1,h(k)&&k.flush&&(i&&i(),k.flush())},c.unfetchCore=function(a,b,c){var d=g(c,"id","string"),e=a.id+d;a.removeFetcher(d),b.removeFetcher(e)},c.addCore=function(a,b,c,d){var e=g(d,"path","string"),f=d.value;c.add(b,a,e,f)},c.removeCore=function(a,b,c){var d=g(c,"path","string");b.remove(d,a)},c.changeCore=function(a,b,c){var d=g(c,"path","string");b.change(d,c.value,a)}},{"./fetcher":4,"./sorter":10,"./utils":11}],4:[function(a,b,c){"use strict";var d=a("./path_matcher"),e=a("./value_matcher"),f=a("./utils"),g=f.isDefined;c.create=function(a,b){var c=d.create(a),f=e.create(a),h={},i=function(a,c,d){var e=h[a];return"remove"!==c&&f(d)?(e?c="change":(c="add",h[a]=!0),b({path:a,event:c,value:d}),!0):(e&&(delete h[a],b({path:a,event:"remove",value:d})),!0)};return g(c)&&!g(f)?function(a,d,e,f){return c(a,d)?(b({path:a,event:e,value:f}),!0):!1}:!g(c)&&g(f)?function(a,b,c,d){return i(a,c,d)}:g(c)&&g(f)?function(a,b,d,e){return c(a,b)?i(a,d,e):!1}:function(a,c,d,e){return b({path:a,event:d,value:e}),!0}}},{"./path_matcher":6,"./utils":11,"./value_matcher":12}],5:[function(a,b,c){(function(b,d){function e(a,b,c){this.data=a,this.type=b,this.target=c}function f(a,b,c){this.wasClean="undefined"==typeof a||1e3===a,this.code=a,this.reason=b,this.target=c}function g(a){this.target=a}var h=a("util"),i=a("events"),j=a("net"),k=function(a,b){var c,e=new d(0),f=-1,g=this;a instanceof j.Socket?c=a:(c=j.connect(a,b),c.on("connect",function(){g.emit("open")})),c.on("data",function(a){for(var b=d.concat([e,a]);;){if(0>f){if(b.length<4)return void(e=b);f=b.readUInt32BE(0),b=b.slice(4)}if(f>0){if(b.length<f)return void(e=b);g.emit("message",b.toString(null,0,f)),b=b.slice(f),f=-1}}}),c.setNoDelay(!0),c.setKeepAlive(!0),c.once("close",function(){g.emit("close")}),c.once("error",function(a){g.emit("error",a)}),this._socket=c};h.inherits(k,i.EventEmitter),k.prototype.send=function(a){var c=this,e=d.byteLength(a,"utf8"),f=new d(4+e);f.writeUInt32BE(e,0),f.write(a,4),b.nextTick(function(){c._socket.write(f),c.emit("sent",a)})},k.prototype.close=function(){this._socket.end()},k.prototype.addEventListener=function(a,b){function c(a,c){b.call(j,new e(a,c&&c.binary?"Binary":"Text",j))}function d(a,c){b.call(j,new f(a,c,j))}function h(a){a.target=j,b.call(j,a)}function i(){b.call(j,new g(j))}var j=this;"function"==typeof b&&("message"===a?(c._listener=b,this.on(a,c)):"close"===a?(d._listener=b,this.on(a,d)):"error"===a?(h._listener=b,this.on(a,h)):"open"===a?(i._listener=b,this.on(a,i)):this.on(a,b))},c.MessageSocket=k}).call(this,a("_process"),a("buffer").Buffer)},{_process:20,buffer:14,events:18,net:13,util:22}],6:[function(a,b,c){"use strict";var d=a("./utils"),e=d.isDefined,f=function(a){return function(b){return-1!==b.indexOf(a)}},g=function(a){return function(b){var c;for(c=0;c<a.length;c+=1)if(-1===b.indexOf(a[c]))return!1;return!0}},h=function(a){return function(b){var c;for(c=0;c<a.length;c+=1)if(-1!==b.indexOf(a[c]))return!0;return!1}},i=function(a){return function(b){return b.substr(0,a.length)===a}},j=function(a){return function(b){return b.lastIndexOf(a)===b.length-a.length}},k=function(a){return function(b){return b===a}},l=function(a){return function(b){var c;for(c=0;c<a.length;c+=1)if(b===a[c])return!0;return!1}},m=function(a){return function(){var b=a.apply(void 0,arguments);return function(){return!b.apply(void 0,arguments)}}},n={equals:k,equalsNot:m(k),contains:f,containsNot:m(f),containsAllOf:g,containsOneOf:h,startsWith:i,startsNotWith:m(i),endsWith:j,endsNotWith:m(j),equalsOneOf:l,equalsNotOneOf:m(l)},o=["equals","equalsNot","endsWith","startsWith","contains","containsNot","containsAllOf","containsOneOf","startsNotWith","endsNotWith","equalsOneOf","equalsNotOneOf"];c.create=function(a){if(e(a.path)){var b,c=a.path,d=c.caseInsensitive,f=[];o.forEach(function(a){var b,g,h=c[a];if(e(h)){if(b=n[a],d)if(h.length)for(g=0;g<h.length;g+=1)h[g]=h[g].toLowerCase();else h=h.toLowerCase();f.push(b(h))}});var g=function(a){for(var b=0;b<f.length;++b)if(!f[b](a))return!1;return!0};return d?1===f.length?(b=f[0],function(a,c){return b(c)}):function(a,b){return g(b)}:1===f.length?(b=f[0],function(a){return b(a)}):function(a){return g(a)}}}},{"./utils":11}],7:[function(a,b,c){var d=a("util"),e=a("events"),f=a("./utils"),g=a("./peer/jsonrpc"),h=a("./peer/fetch").Fetcher,i=a("./peer/fetch").FakeFetcher,j=f.isDefined,k=d.isArray,l=f.invalidParams,m=f.errorObject,n={name:"unknown-daemon",version:"0.0.0",protocolVersion:1,features:{fetch:"full",authentication:!1,batches:!0}},o=function(a){a=a||{};var b=this;this.jsonrpc=new g(a),this.fetchId=0,this.queuedFetches=[],this.fetch=o.prototype.fetchQueue;var c=function(c){b.daemonInfo=c,b.fetch="simple"===c.features.fetch?b.fetchFake:b.fetchFull,b.flushQueuedFetches(),a.onOpen&&a.onOpen(c),b.emit("open",c)};return this.jsonrpc.once("open",function(){try{b.info({success:function(a){c(a)},error:function(a){c(n)}}),a.name&&b.configure({name:a.name})}catch(d){if(!b.jsonrpc.closed)throw d}}),this.jsonrpc.on("error",function(c){a.onError&&a.onError(c),b.emit("error",c)}),this.jsonrpc.on("close",function(c){a.onClose&&a.onClose(c),b.emit("close",c)}),this};d.inherits(o,e.EventEmitter),o.prototype.close=function(){this.jsonrpc.close()},o.prototype.batch=function(a){this.jsonrpc.batch(a)},o.prototype.flushQueuedFetches=function(){var a=this;try{this.queuedFetches.forEach(function(b){a.fetch.apply(a,b)})}catch(b){if(!this.jsonrpc.closed)throw b}delete this.queuedFetches},o.prototype.fetchQueue=function(a,b,c){this.queuedFetches.push([a,b,c])},o.prototype.fetchFull=function(a,b,c){return new h(this.jsonrpc,a,b,c)},o.prototype.fetchFake=function(a,b,c){return new i(this.jsonrpc,a,b,c)},o.prototype.add=function(a,b,c){var d=this,e=a.path,f=function(a){a&&d.jsonrpc.addRequestDispatcher(e,b)},g={path:e,value:a.value};d.jsonrpc.service("add",g,f,c);var h={remove:function(a){d.remove(e,a)},isAdded:function(){return d.jsonrpc.hasRequestDispatcher(e)},add:function(c,e){j(c)&&(a.value=c),d.add(a,b,e)},path:function(){return e}};return h},o.prototype.remove=function(a,b){var c=this,d={path:a},e=function(){c.jsonrpc.removeRequestDispatcher(a)};c.jsonrpc.service("remove",d,e,b)},o.prototype.call=function(a,b,c){var d={path:a,args:b||[],timeout:c&&c.timeout};this.jsonrpc.service("call",d,null,c)},o.prototype.info=function(a){this.jsonrpc.flush(),this.jsonrpc.service("info",{},null,a),this.jsonrpc.flush()},o.prototype.configure=function(a,b){this.jsonrpc.flush(),this.jsonrpc.service("config",a,null,b),this.jsonrpc.flush()},o.prototype.set=function(a,b,c){var d={path:a,value:b,valueAsResult:c&&c.valueAsResult,timeout:c&&c.timeout};this.jsonrpc.service("set",d,null,c)},o.prototype.method=function(a,b){var c,d=this;if(a.call)c=function(b){var c,e,f=b.params;try{c=k(f)&&f.length>0?a.call.apply(void 0,f):a.call.call(void 0,f)}catch(g){e=g}var h=b.id;j(h)&&d.jsonrpc.queue(j(e)?{id:h,error:m(e)}:{id:h,result:c||{}})};else{if(!a.callAsync)throw"invalid method desc"+(a.path||"?");c=function(b){var c=function(c){var e=b.id;if(c=c||{},j(e)){var f={id:e};j(c.result)&&!j(c.error)?f.result=c.result:f.error=m(j(c.error)?c.error:"jet.peer Invalid async method response "+a.path),d.jsonrpc.queue(f),d.jsonrpc.flush()}},e=b.params;try{k(e)&&e.length>0?(e.unshift(c),a.callAsync.apply(void 0,e)):a.callAsync.call(void 0,c,e)}catch(f){var g=b.id;j(g)&&d.jsonrpc.queue({id:g,error:m(f)})}}}var e=d.add(a,c,b);return e},o.prototype.state=function(a,b){var c,d=this;c=a.set?function(b){var c=b.params.value;try{var e=a.set(c)||{};if(a.value=j(e.value)?e.value:c,j(b.id)){var f={};f.id=b.id,f.result=b.params.valueAsResult?a.value:!0,d.jsonrpc.queue(f)}e.dontNotify||d.jsonrpc.queue({method:"change",params:{path:a.path,value:a.value}})}catch(g){j(b.id)&&d.jsonrpc.queue({id:b.id,error:m(g)})}}:j(a.setAsync)?function(b){var c=b.params.value,e=function(e){var f=b.id;if(e=e||{},a.value=j(e.value)?e.value:c,j(f)){var g={id:f};j(e.error)?g.error=m(e.error):g.result=b.params.valueAsResult?a.value:!0,d.jsonrpc.queue(g)}j(e.error)||j(e.dontNotify)||d.jsonrpc.queue({method:"change",params:{path:a.path,value:a.value}}),d.jsonrpc.flush(e.dontNotify)};try{a.setAsync(c,e)}catch(f){var g=b.id;j(g)&&d.jsonrpc.queue({id:g,error:m(f)})}}:function(b){var c=b.id;j(c)&&d.jsonrpc.queue({id:c,error:l(a.path+" is read-only")})};var e=d.add(a,c,b);return e.value=function(b){return j(b)?(a.value=b,d.jsonrpc.queue({method:"change",params:{path:a.path,value:b}}),d.jsonrpc.flush(),void 0):a.value},e},b.exports=o},{"./peer/fetch":8,"./peer/jsonrpc":9,"./utils":11,events:18,util:22}],8:[function(a,b,c){var d=a("../utils"),e=a("../fetch-common"),f=a("../element").Elements,g=d.isDefined,h=1,i=function(a,b,c){if(g(a.sort)){if(a.sort.asArray){delete a.sort.asArray;var d=[],e=a.sort.from;return function(a){var f=a.params;d.length=f.n,f.changes.forEach(function(a){d[a.index-e]=a}),b(d,c)}}return function(a){var d=a.params;b(d.changes,d.n,c)}}return function(a){var d=a.params;b(d.path,d.event,d.value,c)}},j=function(){this.fetchers={},this.id="fakePeer",this.eachFetcher=d.eachKeyValue(this.fetchers)};j.prototype.addFetcher=function(a,b){this.fetchers[a]=b},j.prototype.removeFetcher=function(a){delete this.fetchers[a]},j.prototype.hasFetcher=function(a){return this.fetchers[this.id+a]&&!0||!1};var k=function(a,b,c,d){var g="__f__"+h;++h,"string"==typeof b&&(b={path:{contains:b}}),b.id=g;var l=i(b,c,this),m=function(a){l({params:a})};if(void 0===k.elements){k.elements=new f,k.peer=new j;var n=function(a){var b=a.params,c=b.event;"remove"===c?e.removeCore(k.peer,k.elements,b):"add"===c?e.addCore(k.peer,k.peer.eachFetcher,k.elements,b):e.changeCore(k.peer,k.elements,b)};a.service("fetch",{},void 0,{success:function(c){a.addRequestDispatcher(c,n),e.fetchCore(k.peer,k.elements,b,m,d&&d.success)}})}else e.fetchCore(k.peer,k.elements,b,m,d&&d.success);this.unfetch=function(a){e.unfetchCore(k.peer,k.elements,b),a&&a.success&&a.success()},this.isFetching=function(){return k.peer.hasFetcher(b.id)},this.fetch=function(a){e.fetchCore(k.peer,k.elements,b,m,a&&a.success)}},l=function(a,b,c,d){var e="__f__"+h;++h;var f=i(b,c,this),g=function(){a.addRequestDispatcher(e,f)};"string"==typeof b&&(b={path:{contains:b}}),b.id=e,a.service("fetch",b,g,d),this.unfetch=function(b){var c=function(){a.removeRequestDispatcher(e)};a.service("unfetch",{id:e},c,b)},this.isFetching=function(){return a.hasRequestDispatcher(e)},this.fetch=function(c){a.service("fetch",b,g,c)}};b.exports={FakeFetcher:k,Fetcher:l}},{"../element":2,"../fetch-common":3,"../utils":11}],9:[function(a,b,c){"use strict";var d=a("util"),e=a("events"),f=a("../message-socket").MessageSocket,g=a("ws"),h=a("../utils"),i=JSON.stringify,j=JSON.parse,k=h.isDefined,l=d.isArray,m=h.errorObject,n=function(a,b,c){if(a[b]){var d=a[b];a[b]=function(a){c(),d(a)}}else a[b]=c},o=function(a){if(a.url||"undefined"!=typeof window){var b=a.url||"ws://"+window.location.host;this.sock=new g(b,"jet")}else this.sock=new f(a.port||11122,a.ip);this.config=a,this.messages=[],this.closed=!1,this.willFlush=!0,this.requestDispatchers={},this.responseDispatchers={},this.id=0,this._dispatchMessage=this._dispatchMessage.bind(this),this._dispatchSingleMessage=this._dispatchSingleMessage.bind(this),this._dispatchResponse=this._dispatchResponse.bind(this),this._dispatchRequest=this._dispatchRequest.bind(this);var c=this;this.sock.addEventListener("message",this._dispatchMessage),this.sock.addEventListener("close",function(a){c.closed=!0,c.emit("close",a)}),this.sock.addEventListener("error",function(a){c.closed=!0,c.emit("error",a)}),this.sock.addEventListener("open",function(){c.emit("open")})};d.inherits(o,e.EventEmitter),o.prototype._dispatchMessage=function(a){var b=a.data,c=j(b);this.willFlush=!0,this.config.onReceive&&this.config.onReceive(b,c),l(c)?c.forEach(function(a){this._dispatchSingleMessage(a)}):this._dispatchSingleMessage(c),this.flush()},o.prototype._dispatchSingleMessage=function(a){a.method&&a.params?this._dispatchRequest(a):(k(a.result)||k(a.error))&&this._dispatchResponse(a)},o.prototype._dispatchResponse=function(a){var b=a.id,c=this.responseDispatchers[b];delete this.responseDispatchers[b],c&&(k(a.result)?c.success&&c.success(a.result):k(a.error)&&c.error&&c.error(a.error))},o.prototype._dispatchRequest=function(a){var b=this.requestDispatchers[a.method];try{b(a)}catch(c){k(a.id)&&this.queue({id:a.id,error:m(c)})}},o.prototype.queue=function(a){this.messages.push(a)},o.prototype.flush=function(){var a;1===this.messages.length?a=i(this.messages[0]):this.messages.length>1&&(a=i(this.messages)),a&&(this.config.onSend&&this.config.onSend(a,this.messages),this.sock.send(a),this.messages.length=0),this.willFlush=!1},o.prototype.addRequestDispatcher=function(a,b){this.requestDispatchers[a]=b},o.prototype.removeRequestDispatcher=function(a){delete this.requestDispatchers[a]},o.prototype.hasRequestDispatcher=function(a){return k(this.requestDispatchers[a])},o.prototype.service=function(a,b,c,d){var e;if(this.closed)throw new Error("Jet Websocket connection is closed");d?(b.timeout=d.timeout,this.id=this.id+1,e=this.id,c&&(n(d,"success",function(){c(!0)}),n(d,"error",function(){c(!1)})),this.responseDispatchers[this.id]=d):c&&c(!0);var f={id:e,method:a,params:b};this.willFlush?this.queue(f):this.sock.send(i(f))},o.prototype.batch=function(a){this.willFlush=!0,a(),this.flush()},o.prototype.close=function(){this.closed=!0,this.flush(),this.sock.close()},b.exports=o},{"../message-socket":5,"../utils":11,events:18,util:22,ws:23}],10:[function(a,b,c){"use strict";var d=a("./utils"),e=d.isDefined,f=function(a){var b,c,f;if(!e(a.sort.byValue)&&!e(a.sort.byValueField)||a.sort.byPath)f=function(a,b){return a.path>b.path},c=function(a,b){return a.path<b.path};else if(a.sort.byValue)c=function(a,b){return a.value<b.value},f=function(a,b){return a.value>b.value};else if(a.sort.byValueField){var g=Object.keys(a.sort.byValueField)[0],h=d.accessField(g);c=function(a,b){return h(a.value)<h(b.value)},f=function(a,b){return h(a.value)>h(b.value)}}var i=function(a,b,c){try{if(a(b,c))return-1}catch(d){}return 1};return b=a.sort.descending?function(a,b){return i(f,a,b)}:function(a,b){return i(c,a,b)}};c.create=function(a,b){var c,d,g,h=[],i={},j={},k=-1;c=a.sort.from||1,d=a.sort.to||10,g=f(a);var l=function(a){return"number"==typeof a&&a>=c&&d>=a},m=function(a,f){var m,n,o,p,q,r,s,t,u,v,w,x=a.event,y=a.path,z=a.value,A=h.length,B=[];if(f){if(e(j[y]))return;return h.push({path:y,value:z}),void(j[y]=h.length)}if(m=j[y],"remove"===x){if(!e(m))return;h.splice(m-1,1),delete j[y]}else e(m)?h[m-1].value=z:h.push({path:y,value:z});if(h.sort(g),h.forEach(function(a,b){j[a.path]=b+1}),!(h.length<c&&c>A)){if(n=j[y],e(m)&&e(n)&&n===m&&l(n))return void("change"===x&&b({n:k,changes:[{path:y,value:z,index:n}]}));for(p=l(n),o=l(m),p&&o?(q=Math.min(m,n),r=Math.max(m,n)):p&&!o?(q=n,r=Math.min(d,h.length)):!p&&o?(q=m,r=Math.min(d,h.length)):(q=c,r=Math.min(d,h.length)),w=q;r>=w&&(v=w-1,t=h[v],u=i[v],t&&t!==u&&B.push({path:t.path,value:t.value,index:w}),i[v]=t,void 0!==t);w+=1);s=Math.min(d,h.length)-c+1,(s!==k||B.length>0)&&(k=s,b({changes:B,n:k}))}},n=function(){var a,e,f,l=[];for(h.sort(g),h.forEach(function(a,b){j[a.path]=b+1}),k=0,f=c;d>=f;f+=1)e=f-1,a=h[e],a&&(a.index=f,k=f-c+1,i[e]=a,l.push(a));b({changes:l,n:k})};return{sorter:m,flush:n}}},{"./utils":11}],11:[function(a,b,c){var d=function(a){return{message:"Invalid params",code:-32602,data:a}};c.invalidParams=d,c.responseTimeout=function(a){return{message:"Response Timeout",code:-32001,data:a}},c.parseError=function(a){return{message:"Parse error",code:-32700,data:a}},c.methodNotFound=function(a){return{message:"Method not found",code:-32601,data:a}},c.invalidRequest=function(a){return{message:"Invalid Request",code:-32600,data:a}};var e=function(a){return"undefined"==typeof a||null===a?!1:!0};c.checked=function(a,b,c){var f=a[b];if(e(f)){if(c){if(typeof f===c)return f;throw d({wrongType:b,got:a})}return f}throw d({missingParam:b,got:a})},c.optional=function(a,b,c){var f=a[b];if(e(f)){if(!c)throw d({wrongType:b,got:a});if(typeof f===c)return f}},c.isDefined=e,c.noop=function(){},c.accessField=function(a){"["!==a.substr(0,1)&&(a="."+a);var b="return t"+a;return new Function("t",b)},c.errorObject=function(a){var b;return"object"==typeof a&&e(a.code)&&e(a.message)?a:("object"==typeof a&&(b={},b.message=a.message,b.lineNumber=a.lineNumber,b.fileName=a.fileName),{code:-32602,message:"Internal error",data:b||a})},c.eachKeyValue=function(a){return function(b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}}},{}],12:[function(a,b,c){"use strict";var d=a("./utils"),e={};e.lessThan=function(a){return function(b){return a>b}},e.greaterThan=function(a){return function(b){return b>a}},e.equals=function(a){return function(b){return b===a}},e.equalsNot=function(a){return function(b){return b!==a}},e.isType=function(a){return function(b){return typeof b===a}};var f=d.isDefined,g=function(a,b){var c=e[a];if(c)return c(b);throw d.invalidParams("unknown generator "+a)},h=function(a){var b=[];return d.eachKeyValue(a)(function(a,c){b.push(g(a,c))}),b},i=function(a){var b=[];return d.eachKeyValue(a)(function(a,c){var e=[],f=d.accessField(a);d.eachKeyValue(c)(function(a,b){e.push(g(a,b))});var h=function(a){if("object"!=typeof a)return!1;try{for(var b=f(a),c=0;c<e.length;++c)if(!e[c](b))return!1;return!0}catch(d){return!1}};b.push(h)}),b};c.create=function(a){if(a.sort)if(a.sort.byValue)a.value=a.value||{},a.value.isType=a.sort.byValue;else if(a.sort.byValueField){var b=Object.keys(a.sort.byValueField)[0],c=a.sort.byValueField[b];a.valueField=a.valueField||{},a.valueField[b]=a.valueField[b]||{},a.valueField[b].isType=c}if(f(a.value)||f(a.valueField)){var d;return f(a.value)?d=h(a.value):f(a.valueField)&&(d=i(a.valueField)),function(a){try{for(var b=0;b<d.length;++b)if(!d[b](a))return!1;return!0}catch(c){return!1}}}}},{"./utils":11}],13:[function(a,b,c){},{}],14:[function(a,b,c){function d(a,b){var c=this;if(!(c instanceof d))return new d(a,b);var e,f=typeof a;if("number"===f)e=+a;else if("string"===f)e=d.byteLength(a,b);else{if("object"!==f||null===a)throw new TypeError("must start with number, buffer, array or string");"Buffer"===a.type&&K(a.data)&&(a=a.data),e=+a.length}if(e>L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");0>e?e=0:e>>>=0,d.TYPED_ARRAY_SUPPORT?c=d._augment(new Uint8Array(e)):(c.length=e,c._isBuffer=!0);var g;if(d.TYPED_ARRAY_SUPPORT&&"number"==typeof a.byteLength)c._set(a);else if(A(a))if(d.isBuffer(a))for(g=0;e>g;g++)c[g]=a.readUInt8(g);else for(g=0;e>g;g++)c[g]=(a[g]%256+256)%256;else if("string"===f)c.write(a,0,b);else if("number"===f&&!d.TYPED_ARRAY_SUPPORT)for(g=0;e>g;g++)c[g]=0;return e>0&&e<=d.poolSize&&(c.parent=M),c}function e(a,b){if(!(this instanceof e))return new e(a,b);var c=new d(a,b);return delete c.parent,c}function f(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function g(a,b,c,d){var e=G(C(b,a.length-c),a,c,d);return e}function h(a,b,c,d){var e=G(D(b),a,c,d);return e}function i(a,b,c,d){return h(a,b,c,d)}function j(a,b,c,d){var e=G(F(b),a,c,d);return e}function k(a,b,c,d){var e=G(E(b,a.length-c),a,c,d);return e}function l(a,b,c){return I.fromByteArray(0===b&&c===a.length?a:a.slice(b,c))}function m(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=H(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+H(e)}function n(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(127&a[e]);return d}function o(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function p(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=B(a[f]);return e}function q(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function r(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function s(a,b,c,e,f,g){if(!d.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>f||g>b)throw new RangeError("value is out of bounds");if(c+e>a.length)throw new RangeError("index out of range")}function t(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function u(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function v(a,b,c,d,e,f){if(b>e||f>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range")}function w(a,b,c,d,e){return e||v(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(a,b,c,d,23,4),c+4}function x(a,b,c,d,e){return e||v(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(a,b,c,d,52,8),c+8}function y(a){if(a=z(a).replace(O,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function z(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function A(a){return K(a)||d.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function B(a){return 16>a?"0"+a.toString(16):a.toString(16)}function C(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;d>g;g++){if(c=a.charCodeAt(g),c>55295&&57344>c){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(56320>c){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=e-55296<<10|c-56320|65536,e=null}else e&&((b-=3)>-1&&f.push(239,191,189),e=null);if(128>c){if((b-=1)<0)break;f.push(c)}else if(2048>c){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(65536>c){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(2097152>c))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function D(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function E(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function F(a){return I.toByteArray(y(a))}function G(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}function H(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}var I=a("base64-js"),J=a("ieee754"),K=a("is-array");c.Buffer=d,c.SlowBuffer=e,c.INSPECT_MAX_BYTES=50,d.poolSize=8192;var L=1073741823,M={};d.TYPED_ARRAY_SUPPORT=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);return b.foo=function(){return 42},42===b.foo()&&"function"==typeof b.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(c){return!1}}(),d.isBuffer=function(a){return!(null==a||!a._isBuffer)},d.compare=function(a,b){if(!d.isBuffer(a)||!d.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,e=b.length,f=0,g=Math.min(c,e);g>f&&a[f]===b[f];f++);return f!==g&&(c=a[f],e=b[f]),e>c?-1:c>e?1:0},d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(a,b){if(!K(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new d(0);if(1===a.length)return a[0];var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.byteLength=function(a,b){var c;switch(a+="",b||"utf8"){case"ascii":case"binary":case"raw":c=a.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=2*a.length;break;case"hex":c=a.length>>>1;break;case"utf8":case"utf-8":c=C(a).length;break;case"base64":c=F(a).length;break;default:c=a.length}return c},d.prototype.length=void 0,d.prototype.parent=void 0,d.prototype.toString=function(a,b,c){var d=!1;if(b>>>=0,c=void 0===c||c===1/0?this.length:c>>>0,a||(a="utf8"),0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return p(this,b,c);case"utf8":case"utf-8":return m(this,b,c);case"ascii":return n(this,b,c);case"binary":return o(this,b,c);case"base64":return l(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}},d.prototype.equals=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===d.compare(this,a)},d.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},d.prototype.compare=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:d.compare(this,a)},d.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:-2147483648>b&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(0>b&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(d.isBuffer(a))return c(this,a,b);if("number"==typeof a)return d.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var e=d;d=b,b=c,c=e}if(b=Number(b)||0,0>c||0>b||b>this.length)throw new RangeError("attempt to write outside buffer bounds");var l=this.length-b;c?(c=Number(c),c>l&&(c=l)):c=l,d=String(d||"utf8").toLowerCase();var m;switch(d){case"hex":m=f(this,a,b,c);break;case"utf8":case"utf-8":m=g(this,a,b,c);break;case"ascii":m=h(this,a,b,c);break;case"binary":m=i(this,a,b,c);break;case"base64":m=j(this,a,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=k(this,a,b,c);break;default:throw new TypeError("Unknown encoding: "+d)}return m},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a);var e;if(d.TYPED_ARRAY_SUPPORT)e=d._augment(this.subarray(a,b));else{var f=b-a;e=new d(f,void 0);for(var g=0;f>g;g++)e[g]=this[g+a]}return e.length&&(e.parent=this.parent||this),e},d.prototype.readUIntLE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},d.prototype.readUIntBE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},d.prototype.readUInt8=function(a,b){return b||r(a,1,this.length),this[a]},d.prototype.readUInt16LE=function(a,b){return b||r(a,2,this.length),this[a]|this[a+1]<<8},d.prototype.readUInt16BE=function(a,b){return b||r(a,2,this.length),this[a]<<8|this[a+1]},d.prototype.readUInt32LE=function(a,b){return b||r(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},d.prototype.readUInt32BE=function(a,b){return b||r(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},d.prototype.readIntLE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},d.prototype.readIntBE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},d.prototype.readInt8=function(a,b){return b||r(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},d.prototype.readInt16LE=function(a,b){b||r(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},d.prototype.readInt16BE=function(a,b){b||r(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},d.prototype.readInt32LE=function(a,b){return b||r(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},d.prototype.readInt32BE=function(a,b){return b||r(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},d.prototype.readFloatLE=function(a,b){return b||r(a,4,this.length),J.read(this,a,!0,23,4)},d.prototype.readFloatBE=function(a,b){return b||r(a,4,this.length),J.read(this,a,!1,23,4)},d.prototype.readDoubleLE=function(a,b){return b||r(a,8,this.length),J.read(this,a,!0,52,8)},d.prototype.readDoubleBE=function(a,b){return b||r(a,8,this.length),
J.read(this,a,!1,52,8)},d.prototype.writeUIntLE=function(a,b,c,d){a=+a,b>>>=0,c>>>=0,d||s(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e>>>0&255;return b+c},d.prototype.writeUIntBE=function(a,b,c,d){a=+a,b>>>=0,c>>>=0,d||s(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f>>>0&255;return b+c},d.prototype.writeUInt8=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,1,255,0),d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=a,b+1},d.prototype.writeUInt16LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8):t(this,a,b,!0),b+2},d.prototype.writeUInt16BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a):t(this,a,b,!1),b+2},d.prototype.writeUInt32LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=a):u(this,a,b,!0),b+4},d.prototype.writeUInt32BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a):u(this,a,b,!1),b+4},d.prototype.writeIntLE=function(a,b,c,d){a=+a,b>>>=0,d||s(this,a,b,c,Math.pow(2,8*c-1)-1,-Math.pow(2,8*c-1));var e=0,f=1,g=0>a?1:0;for(this[b]=255&a;++e<c&&(f*=256);)this[b+e]=(a/f>>0)-g&255;return b+c},d.prototype.writeIntBE=function(a,b,c,d){a=+a,b>>>=0,d||s(this,a,b,c,Math.pow(2,8*c-1)-1,-Math.pow(2,8*c-1));var e=c-1,f=1,g=0>a?1:0;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=(a/f>>0)-g&255;return b+c},d.prototype.writeInt8=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,1,127,-128),d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=a,b+1},d.prototype.writeInt16LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8):t(this,a,b,!0),b+2},d.prototype.writeInt16BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a):t(this,a,b,!1),b+2},d.prototype.writeInt32LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):u(this,a,b,!0),b+4},d.prototype.writeInt32BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a):u(this,a,b,!1),b+4},d.prototype.writeFloatLE=function(a,b,c){return w(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){return w(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){return x(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){return x(this,a,b,!1,c)},d.prototype.copy=function(a,b,c,e){var f=this;if(c||(c=0),e||0===e||(e=this.length),b>=a.length&&(b=a.length),b||(b=0),e>0&&c>e&&(e=c),e===c)return 0;if(0===a.length||0===f.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=f.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),a.length-b<e-c&&(e=a.length-b+c);var g=e-c;if(1e3>g||!d.TYPED_ARRAY_SUPPORT)for(var h=0;g>h;h++)a[h+b]=this[h+c];else a._set(this.subarray(c,c+g),b);return g},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=C(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},d.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(d.TYPED_ARRAY_SUPPORT)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var N=d.prototype;d._augment=function(a){return a.constructor=d,a._isBuffer=!0,a._get=a.get,a._set=a.set,a.get=N.get,a.set=N.set,a.write=N.write,a.toString=N.toString,a.toLocaleString=N.toString,a.toJSON=N.toJSON,a.equals=N.equals,a.compare=N.compare,a.indexOf=N.indexOf,a.copy=N.copy,a.slice=N.slice,a.readUIntLE=N.readUIntLE,a.readUIntBE=N.readUIntBE,a.readUInt8=N.readUInt8,a.readUInt16LE=N.readUInt16LE,a.readUInt16BE=N.readUInt16BE,a.readUInt32LE=N.readUInt32LE,a.readUInt32BE=N.readUInt32BE,a.readIntLE=N.readIntLE,a.readIntBE=N.readIntBE,a.readInt8=N.readInt8,a.readInt16LE=N.readInt16LE,a.readInt16BE=N.readInt16BE,a.readInt32LE=N.readInt32LE,a.readInt32BE=N.readInt32BE,a.readFloatLE=N.readFloatLE,a.readFloatBE=N.readFloatBE,a.readDoubleLE=N.readDoubleLE,a.readDoubleBE=N.readDoubleBE,a.writeUInt8=N.writeUInt8,a.writeUIntLE=N.writeUIntLE,a.writeUIntBE=N.writeUIntBE,a.writeUInt16LE=N.writeUInt16LE,a.writeUInt16BE=N.writeUInt16BE,a.writeUInt32LE=N.writeUInt32LE,a.writeUInt32BE=N.writeUInt32BE,a.writeIntLE=N.writeIntLE,a.writeIntBE=N.writeIntBE,a.writeInt8=N.writeInt8,a.writeInt16LE=N.writeInt16LE,a.writeInt16BE=N.writeInt16BE,a.writeInt32LE=N.writeInt32LE,a.writeInt32BE=N.writeInt32BE,a.writeFloatLE=N.writeFloatLE,a.writeFloatBE=N.writeFloatBE,a.writeDoubleLE=N.writeDoubleLE,a.writeDoubleBE=N.writeDoubleBE,a.fill=N.fill,a.inspect=N.inspect,a.toArrayBuffer=N.toArrayBuffer,a};var O=/[^+\/0-9A-z\-]/g},{"base64-js":15,ieee754:16,"is-array":17}],15:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],16:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],17:[function(a,b,c){var d=Array.isArray,e=Object.prototype.toString;b.exports=d||function(a){return!!a&&"[object Array]"==e.call(a)}},{}],18:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],19:[function(a,b,c){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],20:[function(a,b,c){function d(){if(!h){h=!0;for(var a,b=g.length;b;){a=g,g=[];for(var c=-1;++c<b;)a[c]();b=g.length}h=!1}}function e(){}var f=b.exports={},g=[],h=!1;f.nextTick=function(a){g.push(a),h||setTimeout(d,0)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=e,f.addListener=e,f.once=e,f.off=e,f.removeListener=e,f.removeAllListeners=e,f.emit=e,f.binding=function(a){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(a){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],21:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],22:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)f.push(F(b,String(g))?m(a,b,c,d,String(g),!0):"");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":21,_process:20,inherits:19}],23:[function(a,b,c){function d(a,b,c){var d;return d=b?new f(a,b):new f(a)}var e=function(){return this}(),f=e.WebSocket||e.MozWebSocket;b.exports=f?d:null,f&&(d.prototype=f.prototype)},{}]},{},[1])(1)});